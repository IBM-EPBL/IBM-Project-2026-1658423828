<html>
	<head>
	<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
		<title>Heart Disease Test</title>
		
	<script>
		if(getStorage("username")== ""){
			document.getElementById('predictor').style.display='none';  
			document.getElementById('login').style.display='block';
		}
		else{
			document.getElementById('predictor').style.display='none';  
			document.getElementById('login').style.display='block';
		}
	</script>
	</head>
	
	
	<body>
	<!-- Java Script -->	
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

		
		<!-- Navbar-->
		<nav class="navbar navbar-dark" style="background-color: rgb(10, 2, 255);">
			<span class="navbar-brand mb-0 h1">Heart Disease Predictor</span>
		</nav>
		<div id="login">
		<center> <h1> User Login </h1> </center>   
    <form>  
        <legend style=" padding: 10px;  width:auto;">
        <div class="container" style="text-align:center ;padding-top: 50px; width: min-content; background-color: rgb(241, 152, 9);border: 10px solid black;">   
            <label for="username">Username : </label>   
            <input type="text" name="username" placeholder="Enter Username" id="username" required>  
            <br>
            <label for="password">Password : </label>   
            <input type="password" name="password" placeholder="Enter Password" id="password" required> 
            <br>
            <button class="btn btn-primary"  onclick="func()">Login</button>
            <input type="checkbox" class="btn btn-primary"> Remember me   
            <button type="button" class="btn btn-primary"> Cancel</button>   
            Forgot <a href="#"> password? </a>   
        </div>  
		<script>
			function getStorage(key) {
				return window.localStorage.getItem(key) || "";
				}
			if(getStorage("username")== ""){
				document.getElementById('predictor').style.display='none';  
				document.getElementById('login').style.display='block';
			}
			else{
				document.getElementById('predictor').style.display='block';  
				document.getElementById('login').style.display='none';
			}
		</script> 
		<!--<script>
			function getStorage(key) {
				return window.localStorage.getItem(key) || "";
				}
			function func() {
			var username = document.getElementById("username").value;
			var password = document.getElementById("password").value;
			alert(username);
			window.localStorage.setItem("username", username);
			window.localStorage.setItem("password", password);
			if(getStorage("username")== ""){
				document.getElementById('predictor').style.display='none';  
				document.getElementById('login').style.display='block';
			}
			else{
				document.getElementById('predictor').style.display='block';  
				document.getElementById('login').style.display='none';
			}
		   }
		</script>-->
    </legend>
    </form> 
	
	
</div>
		<div class="container" id="predictor" style="background-color:  rgb(5, 3, 0); color: aliceblue;">
			<br>
			<!--Form-->
			<form action = "{{url_for('predict')}}" method ="POST" >
				<fieldset>
				<legend style="color: aliceblue; padding-left:400px;"><b>Heart Disease Checkup </b></legend><br>
				  <div class="card card-body" style="background-color: rgb(13, 8, 1);">
					  <div class="form-group  row">
						<div class="col-sm-3">
							<label for="age">Age</label>
							<input type="number" class="form-control" id="age" name="age" style="color:aliceblue; background-color: rgb(241, 152, 9);" required>
						</div>
						<div class="col-sm-3">
							<label for="sex">Sex</label>
							<select class="form-control" id="sex"  name="sex" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "0">Female</option>
							  <option value = "1">Male</option>
							</select>
					   </div>
					  </div>
					  <br>
					  <div class="form-group  row">
						  <div class="col-sm">
							<label for="cp">Chest Pain Type</label>
							<select class="form-control" id="cp" name = "cp" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "1">Typical Angina</option>
							  <option value = "2">Atypical Angina</option>
							  <option value = "3">Non-anginal Pain</option>
							  <option value = "4">Asymptomatic</option>
							</select>
						  </div>
						  <div class="col-sm">
							<label for="trestbps">Resting Blood Pressure in mm Hg</label>
							<input type="number" class="form-control" id="trestbps" name="trestbps" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
						  </div>
						  <div class="col-sm">
							<label for="chol">Serum Cholestoral in mg/dl</label>
							<input type="number" class="form-control" id="chol" name="chol" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
						  </div>
						  <div class="col-sm">
							<label for="fbs">Fasting Blood Sugar > 120 mg/dl</label>
							<select class="form-control" id="fbs" name="fbs" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "0">False</option>
							  <option value = "1">True</option>
							</select>
						</div>
					  </div>
					  
					  <br>
					  <div class="form-group row">
							<div class="col-sm">
								<label for="restecg">Resting ECG Results </label>
								<select class="form-control" id="restecg" name="restecg" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
								  <option disabled selected value> -- Select an Option -- </option>
								  <option value = "0">Normal  </option>
								  <option value = "1">Having ST-T wave abnormality  </option>
								  <option value = "2">Probable or definite left ventricular hypertrophy</option>
								</select>
							  </div>
							  <div class="col-sm">
								<label for="thalach">Maximum Heart Rate</label>
								<input type="number" class="form-control" id="thalach" name="thalach" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  </div>
							  <div class="col-sm">
								<label for="exang">Exercise Induced Angina </label>
								<select class="form-control" id="exang" name="exang" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
								  <option disabled selected value> -- Select an Option -- </option>
								  <option value = "0">No</option>
								  <option value = "1">Yes</option>
								</select>
							  </div>
							  <div class="col-sm">
								<label for="oldpeak">ST Depression Induced</label>
								<input type="number" step="any" class="form-control" id="oldpeak" name="oldpeak" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  </div>
						  </div>
						  <br>
						  <div class="form-group  row">
						  <div class="col-sm">
							<label for="slope">Slope of the Peak Exercise ST Segment </label>
							<select class="form-control" id="slope" name="slope" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "1">Upsloping</option>
							  <option value = "2">Flat</option>
							  <option value = "3">Downsloping</option>
							</select>
						  </div>
						  <div class="col-sm">
							<label for="ca">Number of Vessels Colored by Flourosopy</label>
							<select class="form-control" id="ca" name = "ca" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "0">0</option>
							  <option value = "1">1</option>
							  <option value = "2">2</option>
							  <option value = "3">3</option>
							</select>
						  </div>
						  <div class="col-sm">
							<label for="thal">Thalassemia</label>
							<select class="form-control" id="thal" name = "thal" style="color:aliceblue; background-color: rgb(241, 152, 9);;" required>
							  <option disabled selected value> -- Select an Option -- </option>
							  <option value = "3">Normal</option>
							  <option value = "6">Fixed defect</option>
							  <option value = "7">Reversable defect</option>
							</select>
						  </div>
					  </div>
					  <br>
					  <div class="form-group" style="padding-left:450px;">
						<input class="btn btn-primary" type="submit" value="Result">
					  </div>
					  
					  <!--Prediction Result-->
					  <div id ="result" style="padding-left:450px;">
							<strong style="color:red">{{result}}</strong>
					 </div>
				     </div>
			 </fieldset>
			</form>
			<iframe src="https://us1.ca.analytics.ibm.com/bi/?perspective=dashboard&amp;pathRef=.my_folders%2Fproject&amp;closeWindowOnLastView=true&amp;ui_appbar=false&amp;ui_navbar=false&amp;shareMode=embedded&amp;action=view&amp;mode=dashboard&amp;subView=model000001848f05f3ea_00000000" width="320" height="200" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen=""></iframe>
		</div>
	</body>
	
	<script>
		function getStorage(key) {
			return window.localStorage.getItem(key) || "";
			}
		if(getStorage("username")== ""){
			document.getElementById('predictor').style.display='none';  
			document.getElementById('login').style.display='block';
		}
		else{
			document.getElementById('predictor').style.display='block';  
			document.getElementById('login').style.display='none';
		}
		function func() {
			var username = document.getElementById("username").value;
			var password = document.getElementById("password").value;
			alert("Hello "+username+"!");
			window.localStorage.setItem("username", username);
			window.localStorage.setItem("password", password);
			if(getStorage("username")== ""){
				document.getElementById('predictor').style.display='none';  
				document.getElementById('login').style.display='block';
			}
			else{
				document.getElementById('predictor').style.display='block';  
				document.getElementById('login').style.display='none';
			}
		   }
	</script> 
</html>
